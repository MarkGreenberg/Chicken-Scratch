(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     13334,        291]
NotebookOptionsPosition[     13041,        278]
NotebookOutlinePosition[     13379,        293]
CellTagsIndexPosition[     13336,        290]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"pols", "=", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          InterpretationBox[
           DynamicModuleBox[{Typeset`open = False}, 
            TemplateBox[{"List","ListIcon",GridBox[{{
                 RowBox[{
                   TagBox["\"Head: \"", "IconizedLabel"], "\[InvisibleSpace]", 
                   TagBox["List", "IconizedItem"]}]}, {
                 RowBox[{
                   TagBox["\"Dimensions: \"", "IconizedLabel"], 
                   "\[InvisibleSpace]", 
                   TagBox[
                    RowBox[{"{", 
                    RowBox[{"29", ",", "2"}], "}"}], "IconizedItem"]}]}, {
                 RowBox[{
                   TagBox["\"Byte count: \"", "IconizedLabel"], 
                   "\[InvisibleSpace]", 
                   TagBox["22712", "IconizedItem"]}]}}, 
               GridBoxAlignment -> {"Columns" -> {{Left}}}, DefaultBaseStyle -> 
               "Column", 
               GridBoxItemSize -> {
                "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],Dynamic[
              Typeset`open]},
             "IconizedObject"]],
           {{"The Color Purple", {{
               Entity["AdministrativeDivision", {"Georgia", "UnitedStates"}], 
               
               Entity[
               "AdministrativeDivision", {"Tennessee", "UnitedStates"}]}, {
               Entity["City", {"Memphis", "Tennessee", "UnitedStates"}]}}}, {
            "Beloved", {{
               Entity["AdministrativeDivision", {"Kentucky", "UnitedStates"}], 
               Entity["AdministrativeDivision", {"Ohio", "UnitedStates"}]}, {
               Entity["City", {"Cincinnati", "Ohio", "UnitedStates"}]}}}, {
            "The Great Gatsby", {{
               Entity[
               "AdministrativeDivision", {"NewYork", "UnitedStates"}]}, {
               Entity["Island", "LongIslandNewYork"]}}}, {"Gilgamesh", {{
               Entity["Country", "Iraq"]}, {
               GeoPosition[{31.3249, 45.6384}]}}}, {"Cannery Row", {{
               Entity[
               "AdministrativeDivision", {"California", "UnitedStates"}]}, {
               Entity[
               "AdministrativeDivision", {
                "MontereyCounty", "California", "UnitedStates"}]}}}, {
            "The Grapes of Wrath", {{
               Entity["AdministrativeDivision", {"Oklahoma", "UnitedStates"}], 
               Entity[
               "AdministrativeDivision", {
                "California", "UnitedStates"}]}, {}}}, {"The Jungle", {{
               Entity[
               "AdministrativeDivision", {"Illinois", "UnitedStates"}]}, {
               Entity["City", {"Chicago", "Illinois", "UnitedStates"}]}}}, {
            "War and Peace", {{
               Entity["Country", "Russia"]}, {
               Entity["City", {"Moscow", "Moscow", "Russia"}], 
               Entity[
               "City", {"SaintPetersburg", "SaintPetersburg", "Russia"}]}}}, {
            "The Sound and the Fury", {{
               Entity[
               "AdministrativeDivision", {"Mississippi", "UnitedStates"}]}, {
               Entity[
               "AdministrativeDivision", {
                "JeffersonCounty", "Mississippi", "UnitedStates"}]}}}, {
            "Death Comes for the Archbishop", {{
               Entity[
               "AdministrativeDivision", {"NewMexico", "UnitedStates"}]}, {
               Entity[
               "AdministrativeDivision", {
                "CibolaCounty", "NewMexico", "UnitedStates"}]}}}, {
            "Beowulf", {{
               Entity["Country", "Sweden"], 
               Entity["Country", "Denmark"]}, {}}}, {
            "The Last of the Mohicans", {{
               Entity[
               "AdministrativeDivision", {"NewYork", "UnitedStates"}]}, {
               GeoPosition[{43.4206, -73.7093}]}}}, {
            "Les Mis\[EAcute]rables", {{
               Entity["Country", "France"]}, {
               Entity[
               "City", {"DigneLesBains", "ProvenceAlpesCoteDAzur", "France"}], 
               Entity["City", {"Paris", "IleDeFrance", "France"}], 
               Entity["City", {"Montreuil", "IleDeFrance", "France"}]}}}, {
            "For Whom the Bell Tolls", {{
               Entity["Country", "Spain"]}, {
               GeoPosition[{40.95, -4.1167}]}}}, {"Siddhartha", {{
               Entity["Country", "India"]}, {}}}, {
            "Don Quixote de la Mancha", {{
               Entity["Country", "Spain"]}, {
               GeoPosition[{39.8666, -4.01666}]}}}, {
            "One Hundred Years of Solitude", {{
               Entity["Country", "Colombia"]}, {
               Entity["City", {"Aracataca", "Magdalena", "Colombia"}]}}}, {
            "Sons and Lovers", {{
               Entity[
               "AdministrativeDivision", {"England", "UnitedKingdom"}]}, {
               Entity[
               "AdministrativeDivision", {
                "Derbyshire", "England", "UnitedKingdom"}]}}}, {
            "\[CapitalOE]dipus Rex", {{
               Entity["Country", "Greece"]}, {
               GeoPosition[{38.317, 23.317}]}}}, {
            "The Rubiayat of Omar Khayyam", {{
               Entity["Country", "Iran"]}, {}}}, {"The Call of the Wild", {{
               Entity[
               "AdministrativeDivision", {"California", "UnitedStates"}], 
               Entity[
               "AdministrativeDivision", {"Washington", "UnitedStates"}], 
               Entity[
               "AdministrativeDivision", {"BritishColumbia", "Canada"}]}, {
               Entity["City", {"Skagway", "Alaska", "UnitedStates"}], 
               Entity["City", {"Seattle", "Washington", "UnitedStates"}], 
               Entity[
               "City", {"SantaClara", "California", "UnitedStates"}]}}}, {
            "Fanny Hill", {{
               Entity[
               "AdministrativeDivision", {"England", "UnitedKingdom"}]}, {
               Entity["City", {"Liverpool", "Liverpool", "UnitedKingdom"}], 
               Entity[
               "City", {"London", "GreaterLondon", "UnitedKingdom"}]}}}, {
            "The Iliad", {{
               Entity["Country", "Greece"], 
               Entity["AdministrativeDivision", {"Canakkale", "Turkey"}]}, {
               Entity["City", {"Athens", "Attiki", "Greece"}]}}}, {
            "Riders of the Purple Sage", {{
               Entity["AdministrativeDivision", {"Utah", "UnitedStates"}]}, {
               Entity[
               "AdministrativeDivision", {
                "KaneCounty", "Utah", "UnitedStates"}]}}}, {
            "Tarzan of the Apes", {{
               Entity["Country", "Guinea"], 
               Entity["Country", "IvoryCoast"], 
               Entity["Country", "SierraLeone"], 
               Entity["Country", "Liberia"]}, {}}}, {"The Good Earth", {{
               Entity["Country", "China"]}, {
               Entity["AdministrativeDivision", {"Anhui", "China"}], 
               Entity["AdministrativeDivision", {"Jiangsu", "China"}]}}}, {
            "Follow the Rabbit Proof Fence", {{
               Entity[
               "AdministrativeDivision", {"WesternAustralia", "Australia"}]}, {
               Entity["City", {"Perth", "WesternAustralia", "Australia"}], 
               GeoPosition[{-23.358, 120.781}]}}}, {
            "Like Water for Chocolate", {{
               Entity["Country", "Mexico"], 
               Entity["AdministrativeDivision", {"Texas", "UnitedStates"}]}, {
              
               Entity["City", {"Acuna", "Coahuila", "Mexico"}]}}}, {
            "From Here to Eternity", {{
               Entity["AdministrativeDivision", {"Hawaii", "UnitedStates"}]}, {
               Entity["City", {"Honolulu", "Hawaii", "UnitedStates"}]}}}},
           SelectWithContents->True,
           Selectable->False], ",", "4"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"choices", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"First", "[", "#", "]"}], "&"}], "/@", "pols"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", "choices", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", 
           RowBox[{
           "choices", "\[LeftDoubleBracket]", "1", 
            "\[RightDoubleBracket]"}]}], "]"}], "\[LeftDoubleBracket]", 
         RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"#", ",", "Italic"}], "]"}], "&"}], "/@", "mixed"}]}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"mixTransit", "=", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Hold", "[", 
            RowBox[{"ToExpression", "[", 
             RowBox[{"FromCharacterCode", "[", "h3", "]"}], "]"}], "]"}], "/.", 
           RowBox[{"h3", "\[Rule]", 
            RowBox[{"ToCharacterCode", "[", 
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "#", "]"}], "]"}], "]"}]}]}], "&"}], "/@",
          "mixed"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"q", "=", 
        RowBox[{"Style", "[", 
         RowBox[{
         "\"\<The map shows the setting location for which of these pieces of \
literature?\>\"", ",", 
          RowBox[{"TextAlignment", "\[Rule]", "Center"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"pic", "=", 
        RowBox[{
         RowBox[{"Hold", "[", 
          RowBox[{"GeoListPlot", "[", 
           RowBox[{"h1", ",", 
            RowBox[{"GeoBackground", "\[Rule]", "\"\<ReliefMap\>\""}], ",", 
            RowBox[{"GeoRangePadding", "\[Rule]", 
             RowBox[{"Quantity", "[", 
              RowBox[{"75", ",", "\"\<Miles\>\""}], "]"}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"PlotStyle", "\[Rule]", " ", 
             RowBox[{"{", 
              RowBox[{"Purple", ",", 
               RowBox[{"RGBColor", "[", 
                RowBox[{"1", ",", "1", ",", "0", ",", "1"}], "]"}]}], "}"}]}],
             ",", 
            RowBox[{"PlotLegends", "\[Rule]", "None"}], ",", 
            RowBox[{"ImageSize", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", "480", "}"}], ",", 
               RowBox[{"{", "520", "}"}]}], "}"}]}]}], "]"}], "]"}], "/.", 
         RowBox[{"h1", "\[Rule]", 
          RowBox[{"pols", "\[LeftDoubleBracket]", 
           RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{"q", ",", "ans", ",", "mixTransit", ",", "pic"}], "}"}], 
         "]"}], "&"}]}]}], "]"}], "]"}], ",", "\[IndentingNewLine]", 
   "\"\<CS_pack_Lite4\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.683384637957686*^9, 3.683384729257093*^9, {3.6833847613861027`*^9, 
   3.683384786128922*^9}, {3.6833850192963123`*^9, 3.683385044080654*^9}, {
   3.683385270524095*^9, 3.6833852837790747`*^9}, 3.688140476670554*^9, {
   3.68814058585364*^9, 3.6881405882696877`*^9}, {3.688140628448118*^9, 
   3.688140666472185*^9}, {3.6881407007967176`*^9, 3.688140701179768*^9}, {
   3.68814121312508*^9, 3.6881412482520847`*^9}, {3.688141281307098*^9, 
   3.688141281887517*^9}, {3.688141379296946*^9, 3.6881413799690313`*^9}, 
   3.695899604788794*^9, {3.7647785121983433`*^9, 3.764778619066242*^9}, 
   3.7647787951930313`*^9, {3.764778883448346*^9, 3.764778969612216*^9}, 
   3.764779067796597*^9, {3.764779129369953*^9, 3.764779163984335*^9}, {
   3.764779343801598*^9, 3.7647793549923563`*^9}, {3.764779453481575*^9, 
   3.764779488144114*^9}, {3.764779572617285*^9, 3.7647795811279488`*^9}, {
   3.764779657949267*^9, 3.764779680651635*^9}, {3.764779793953052*^9, 
   3.76477981140723*^9}, {3.764779873441704*^9, 3.764779942383585*^9}, {
   3.764780106112104*^9, 3.764780139825186*^9}, 3.7647807925922403`*^9, {
   3.764780853629981*^9, 3.764780879161805*^9}, {3.764781410015979*^9, 
   3.764781504774374*^9}, 
   3.764781630396282*^9},ExpressionUUID->"bbb67674-d6f6-4712-98f4-\
a01359d59785"]
},
WindowSize->{1759, 1336},
WindowMargins->{{0, Automatic}, {Automatic, 27}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 12479, 256, 318, "Input",ExpressionUUID->"bbb67674-d6f6-4712-98f4-a01359d59785"]
}
]
*)

