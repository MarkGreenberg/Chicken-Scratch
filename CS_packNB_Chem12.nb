(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15080,        290]
NotebookOptionsPosition[     14786,        277]
NotebookOutlinePosition[     15125,        292]
CellTagsIndexPosition[     15082,        289]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"data", "=", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          InterpretationBox[
           DynamicModuleBox[{Typeset`open = False}, 
            TemplateBox[{"List","ListIcon",GridBox[{{
                 RowBox[{
                   TagBox["\"Head: \"", "IconizedLabel"], "\[InvisibleSpace]", 
                   TagBox["List", "IconizedItem"]}]}, {
                 RowBox[{
                   TagBox["\"Length: \"", "IconizedLabel"], 
                   "\[InvisibleSpace]", 
                   TagBox["92", "IconizedItem"]}]}, {
                 RowBox[{
                   TagBox["\"Byte count: \"", "IconizedLabel"], 
                   "\[InvisibleSpace]", 
                   TagBox["14408", "IconizedItem"]}]}}, 
               GridBoxAlignment -> {"Columns" -> {{Left}}}, DefaultBaseStyle -> 
               "Column", 
               GridBoxItemSize -> {
                "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],Dynamic[
              Typeset`open]},
             "IconizedObject"]],
           {
            Entity["Chemical", "Cyclopropane1,1DicarboxylicAcid"], 
            Entity["Chemical", "1,2Dihexyloxybenzene"], 
            Entity[
            "Chemical", 
             "1,4,5,8NaphthalenetetracarboxylicAcid1,8Monoanhydride"], 
            Entity["Chemical", "1Bromo4Isocyanatonaphthalene"], 
            Entity["Chemical", "1R10Camphorsulfonamide"], 
            Entity["Chemical", "2,2Dimethylhex3Ene"], 
            Entity["Chemical", "2,3ChlorobenzyloxyPhenylboronicAcid"], 
            Entity["Chemical", "2,3Dichlorothiophene"], 
            Entity["Chemical", "2,5Bis5TertButylBenzoxazol2YlThiophene"], 
            Entity["Chemical", "2Benzyloxytetrahydropyran"], 
            Entity["Chemical", "2Carbethoxy5,7Dihydroxy4Methoxyisoflavone"], 
            Entity["Chemical", "2Chloro5TrifluoromethylBenzonitrile"], 
            Entity["Chemical", "2Chlorobenzenemethanethiol"], 
            Entity["Chemical", "2Deoxyinosine"], 
            Entity["Chemical", "2Fluoro5Formylbenzonitrile"], 
            Entity["Chemical", "2Hydroxy1,2Diphenylethanone"], 
            Entity["Chemical", "2Isopropenylaniline"], 
            Entity["Chemical", "2MethylheptanoicAcid"], 
            Entity["Chemical", "2Methoxyacetophenone"], 
            Entity["Chemical", "2Methylpyrrolidine"], 
            Entity["Chemical", "2Methylquinoxaline"], 
            Entity["Chemical", "2MethylsulfonylBenzothiazole"], 
            Entity["Chemical", "2NitrobenzylAlcohol"], 
            Entity["Chemical", "3BocAminoPyridine"], 
            Entity["Chemical", "3PerfluorobutyrylPlusCamphor"], 
            Entity["Chemical", "Sodium3TrimethylsilylPropionateD4"], 
            Entity["Chemical", "3,3Dimethylnaphthidine"], 
            Entity["Chemical", "3,4DifluorobenzoylChloride"], 
            Entity["Chemical", "3,5DihydroxybenzylAlcohol"], 
            Entity["Chemical", "3Amino2Naphthol"], 
            Entity["Chemical", "3Chloroalaninate"], 
            Entity["Chemical", "3Chloro2Methylanisole"], 
            Entity["Chemical", "3Iodo4MethylbenzylAlcohol"], 
            Entity["Chemical", "3Nonyne"], 
            Entity["Chemical", "4,4Dibromobenzil"], 
            Entity["Chemical", "4,4Dimethyloxazolidine"], 
            Entity["Chemical", "4,4Oxydi2,1EthanediylBismorpholine"], 
            Entity["Chemical", "4FluoroAlphaMethylbenzylamine"], 
            Entity["Chemical", "4MethoxyAlphaToluenethiol"], 
            Entity["Chemical", "4MethylPyrroline5CarboxylicAcid"], 
            Entity["Chemical", "4TrifluoromethylBenzylChloride"], 
            Entity["Chemical", "5,7Dichloroisatin"], 
            Entity["Chemical", "5,7Dihydroxy4Propylcoumarin"], 
            Entity["Chemical", "5Bromo2Hydroxypropiophenone"], 
            Entity["Chemical", "5Chloro2,2,4DichlorophenoxyPhenol"], 
            Entity["Chemical", "5ExoHydroxycamphor"], 
            Entity["Chemical", "2Amino5Phenyl1,3,4Thiadiazole"], 
            Entity["Chemical", "7Bromo1Heptene"], 
            Entity["Chemical", "AllylEthylEther"], 
            Entity["Chemical", "BenzylCinnamate"], 
            Entity["Chemical", "BenzylRMinusMandelate"], 
            Entity["Chemical", "Norbornane"], 
            Entity["Chemical", "ButylSelenocyanoacetate"], 
            Entity["Chemical", "CalciumBisulfite"], 
            Entity["Chemical", "Chlorodicyclohexylphosphine"], 
            Entity["Chemical", "ChromotropicAcid"], 
            Entity[
            "Chemical", 
             "CopperPhthalocyanine3,4,4,4TetrasulfonicAcidTetrasodiumSalt"], 
            Entity["Chemical", "CyclobutanecarboxylicAcid"], 
            Entity["Chemical", "CyclopropanesulfonylChloride"], 
            Entity["Chemical", "Diethyl2,5Dihydroxyterephthalate"], 
            Entity["Chemical", "Dimethyl1,1Cyclopropanedicarboxylate"], 
            Entity["Chemical", "DidodecylPhthalate"], 
            Entity["Chemical", "DMethamphetamine"], 
            Entity["Chemical", "Dolasetron"], 
            Entity["Chemical", "EuropiumIIISulfate"], 
            Entity["Chemical", "Fludioxonil"], 
            Entity["Chemical", "TrisDimethylaminoPhosphine"], 
            Entity["Chemical", "Hymenialdisine"], 
            Entity["Chemical", "DeuteratedIodoform"], 
            Entity["Chemical", "L2Amino6MethylenePimelicAcid"], 
            Entity["Chemical", "LeadIIChloride"], 
            Entity["Chemical", "Maltose6Phosphate"], 
            Entity["Chemical", "2Acetylphenanthrene"], 
            Entity["Chemical", "MTolylmagnesiumChloride"], 
            Entity["Chemical", "ZLAlanine"], 
            Entity["Chemical", "NBocDL2Amino1Hexanol"], 
            Entity["Chemical", "NMethylLAsparticAcid"], 
            Entity["Chemical", "NMethylNPhenylcarbamoylChloride"], 
            Entity["Chemical", "Olmesartan"], 
            Entity["Chemical", "Phenyl3Phenylpropyl,Sulfide"], 
            Entity["Chemical", "Propanil"], 
            Entity["Chemical", "Pentachloronitrobenzene"], 
            Entity["Chemical", "ShikimicAcid"], 
            Entity["Chemical", "SilverHexafluoroarsenateV"], 
            Entity["Chemical", "Succinimide15N1"], 
            Entity["Chemical", "Tacrine"], 
            Entity["Chemical", "TertAmylPeroxyneodecanoate"], 
            Entity["Chemical", "TertButyldicyclohexylphosphine"], 
            Entity["Chemical", "Tetrafluoroisophthalonitrile"], 
            Entity["Chemical", "ThalliumIHexafluoroacetylacetonate"], 
            Entity["Chemical", "Thiazolidine2CarboxylicAcid"], 
            Entity["Chemical", "TriethoxyPTolylsilane"]},
           SelectWithContents->True,
           Selectable->False], ",", "4"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
       "q", "=", 
        "\"\<Which chemical formula matches this skeleton structure?\>\""}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"pic", "=", 
        RowBox[{
         RowBox[{"EntityValue", "[", 
          RowBox[{
           RowBox[{
           "data", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
           ",", "\"\<ColorStructureDiagram\>\""}], "]"}], "/.", 
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"ImageSize", ",", "_"}], "]"}], "\[Rule]", 
          RowBox[{"Rule", "[", 
           RowBox[{"ImageSize", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", "480", "}"}], ",", 
              RowBox[{"{", "540", "}"}]}], "}"}]}], "]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"choices", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"EntityValue", "[", 
           RowBox[{"#", ",", "\"\<Formula\>\""}], "]"}], "&"}], "/@", 
         "data"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", "choices", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"mixTransit", "=", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Hold", "[", 
            RowBox[{"ToExpression", "[", 
             RowBox[{"FromCharacterCode", "[", "h3", "]"}], "]"}], "]"}], "/.", 
           RowBox[{"h3", "\[Rule]", 
            RowBox[{"ToCharacterCode", "[", 
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "#", "]"}], "]"}], "]"}]}]}], "&"}], "/@",
          "mixed"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", 
           RowBox[{
           "choices", "\[LeftDoubleBracket]", "1", 
            "\[RightDoubleBracket]"}]}], "]"}], "\[LeftDoubleBracket]", 
         RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{"q", ",", "ans", ",", "mixTransit", ",", "pic"}], "}"}], 
         "]"}], "&"}]}]}], "]"}], "]"}], ",", "\[IndentingNewLine]", 
   "\"\<CS_pack_Chem12\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{{3.702042451147049*^9, 3.7020425298851357`*^9}, {
   3.702043065961092*^9, 3.702043069540127*^9}, {3.702043113610667*^9, 
   3.702043140050333*^9}, {3.702043241625799*^9, 3.702043242959507*^9}, {
   3.7020475272713842`*^9, 3.702047542191022*^9}, 3.702047632616281*^9, {
   3.70204770758412*^9, 3.702047736250819*^9}, {3.70204776632296*^9, 
   3.702047767300535*^9}, {3.70204780273274*^9, 3.702047827431747*^9}, {
   3.7020479322512093`*^9, 3.702047933085458*^9}, {3.7020479795173607`*^9, 
   3.702047980102312*^9}, {3.702048053593116*^9, 3.70204810550091*^9}, {
   3.7020481502138863`*^9, 3.702048200081609*^9}, 3.702048243968807*^9, {
   3.7020482931563253`*^9, 3.7020483500059834`*^9}, {3.702048393988099*^9, 
   3.702048395921342*^9}, {3.7020484542388353`*^9, 3.70204845591619*^9}, {
   3.702048509385721*^9, 3.702048512558887*^9}, {3.7020485427156067`*^9, 
   3.7020485458325043`*^9}, {3.702048587573556*^9, 3.702048589866984*^9}, {
   3.702048625775635*^9, 3.7020486278765507`*^9}, {3.702048669105646*^9, 
   3.702048671270609*^9}, {3.7020487089312353`*^9, 3.702048738065785*^9}, {
   3.7020487689554462`*^9, 3.7020487696364193`*^9}, {3.702048804056324*^9, 
   3.702048805861136*^9}, {3.7020488462504063`*^9, 3.702048848495327*^9}, {
   3.702048885331966*^9, 3.702048887465109*^9}, {3.70204896718668*^9, 
   3.702048969949342*^9}, {3.7020490153618097`*^9, 3.702049017143527*^9}, {
   3.702049047648716*^9, 3.702049079770544*^9}, {3.7020491166312532`*^9, 
   3.702049118076532*^9}, {3.7020491748984737`*^9, 3.7020491768715343`*^9}, {
   3.702049211908235*^9, 3.702049214473185*^9}, {3.702049260462749*^9, 
   3.7020492625475483`*^9}, {3.702049321369679*^9, 3.702049323734418*^9}, {
   3.702049366795555*^9, 3.7020493966502447`*^9}, {3.7020494301271048`*^9, 
   3.702049431835782*^9}, {3.702049469432844*^9, 3.702049471869913*^9}, {
   3.702049510851005*^9, 3.702049512767785*^9}, {3.7020495525651913`*^9, 
   3.702049554663826*^9}, {3.702049622201507*^9, 3.7020496247093887`*^9}, 
   3.702049668897427*^9, {3.7020497432863693`*^9, 3.7020497452119637`*^9}, {
   3.702049789680492*^9, 3.7020498166146927`*^9}, {3.702049855875475*^9, 
   3.702049857761338*^9}, {3.702049893269474*^9, 3.702049895202721*^9}, {
   3.7020499284397707`*^9, 3.702049930884647*^9}, {3.7020499917550898`*^9, 
   3.7020499947036753`*^9}, {3.7020500327165813`*^9, 3.702050034434113*^9}, {
   3.702050072430869*^9, 3.702050133830871*^9}, {3.702050196644835*^9, 
   3.702050231331987*^9}, {3.702050269128071*^9, 3.7020502708056107`*^9}, {
   3.7020503070826263`*^9, 3.7020503095114317`*^9}, {3.702050344292588*^9, 
   3.702050347241378*^9}, {3.702050387854673*^9, 3.702050389523922*^9}, {
   3.702050436192769*^9, 3.70205043812612*^9}, {3.7020514759462023`*^9, 
   3.702051477863261*^9}, {3.70205152816527*^9, 3.702051530217729*^9}, {
   3.7020515615273123`*^9, 3.702051564012212*^9}, {3.7020516151385*^9, 
   3.7020516167993603`*^9}, {3.7020516871331873`*^9, 3.702051688921858*^9}, {
   3.7020519938841*^9, 3.7020519957768373`*^9}, {3.7020520481906147`*^9, 
   3.70205205010096*^9}, {3.702052130011066*^9, 3.7020521318557453`*^9}, {
   3.7020521815412407`*^9, 3.702052185770726*^9}, {3.702052222543355*^9, 
   3.7020522246763887`*^9}, {3.702052275914337*^9, 3.702052278215416*^9}, {
   3.7020523927765293`*^9, 3.702052428158502*^9}, {3.7020524698276873`*^9, 
   3.702052471920541*^9}, {3.702052507044085*^9, 3.702052509042536*^9}, {
   3.702052559557925*^9, 3.702052562453175*^9}, {3.702052603986464*^9, 
   3.7020526055428*^9}, {3.702052661477396*^9, 3.7020526633855343`*^9}, {
   3.702052749640688*^9, 3.7020527516139174`*^9}, {3.702053156625494*^9, 
   3.7020531590802794`*^9}, {3.702053204693519*^9, 3.702053206515012*^9}, {
   3.702053306066099*^9, 3.7020533076714287`*^9}, {3.702053354692911*^9, 
   3.7020533846671543`*^9}, {3.702053591976222*^9, 3.702053594660967*^9}, {
   3.7020536418287*^9, 3.7020536578683367`*^9}, {3.7020537285057087`*^9, 
   3.702053732689542*^9}, {3.702053765957906*^9, 3.7020538600471992`*^9}, {
   3.7020539591964397`*^9, 3.7020540206618023`*^9}, {3.702054094618931*^9, 
   3.702054119771508*^9}, {3.702055468846298*^9, 3.702055560360364*^9}, {
   3.702055600501041*^9, 3.702055602401731*^9}, {3.70205738717136*^9, 
   3.702057403291933*^9}, {3.702127206608014*^9, 3.702127207186677*^9}, {
   3.702127382282237*^9, 3.702127385068218*^9}, {3.702127453898211*^9, 
   3.702127514146228*^9}, {3.702127570241201*^9, 3.702127572021627*^9}, {
   3.7021280595994263`*^9, 3.702128060749518*^9}, {3.7648917327919292`*^9, 
   3.7648917747585583`*^9}, {3.764891821431958*^9, 3.764891831742482*^9}, {
   3.7648923358522787`*^9, 3.764892348540543*^9}, {3.764892382766143*^9, 
   3.764892423932448*^9}, {3.764892470069909*^9, 3.764892477115643*^9}, {
   3.76489310678904*^9, 3.7648931461568203`*^9}},
 CellLabel->
  "In[100]:=",ExpressionUUID->"f5e97547-4462-423a-82bf-1ada321cf68e"]
},
WindowSize->{1254, 1064},
WindowMargins->{{12, Automatic}, {Automatic, 24}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 14224, 255, 276, "Input",ExpressionUUID->"f5e97547-4462-423a-82bf-1ada321cf68e"]
}
]
*)

