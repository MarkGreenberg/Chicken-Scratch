(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9323,        249]
NotebookOptionsPosition[      9008,        235]
NotebookOutlinePosition[      9369,        251]
CellTagsIndexPosition[      9326,        248]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"ptPair", "[", "x_List", "]"}], ":=", 
        RowBox[{"DisplayForm", "[", 
         RowBox[{"StyleBox", "[", 
          RowBox[{
           RowBox[{"RowBox", "[", 
            RowBox[{"{", 
             RowBox[{"\"\<(\>\"", ",", 
              RowBox[{"Row", "[", 
               RowBox[{"x", ",", "\"\<,\>\""}], "]"}], ",", "\"\<)\>\""}], 
             "}"}], "]"}], ",", 
           RowBox[{"SpanMaxSize", "\[Rule]", "Infinity"}]}], "]"}], "]"}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"roots", "=", 
        RowBox[{"RandomChoice", "[", 
         RowBox[{
          RowBox[{"Range", "[", 
           RowBox[{
            RowBox[{"-", "12"}], ",", "12"}], "]"}], ",", "2"}], "]"}]}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"fact", "=", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"x", "-", 
           RowBox[{"roots", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ")"}], 
         RowBox[{"(", 
          RowBox[{"x", "-", 
           RowBox[{"roots", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], ")"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"coefs", "=", 
        RowBox[{"Reverse", "[", 
         RowBox[{"CoefficientList", "[", 
          RowBox[{"fact", ",", "x"}], "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"quad", "=", 
        RowBox[{
         RowBox[{"Hold", "[", 
          RowBox[{
           RowBox[{"f", "[", "x", "]"}], "\[Equal]", "h1"}], "]"}], "/.", 
         RowBox[{"h1", "\[Rule]", 
          RowBox[{"Expand", "[", "fact", "]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"q", "=", 
        RowBox[{"StringForm", "[", 
         RowBox[{
         "\"\<What are the coordinates for the vertex of this quadratic \
function?\\n``\>\"", ",", "quad"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"vx", "=", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{"coefs", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "/", 
         RowBox[{"(", 
          RowBox[{"2", "*", 
           RowBox[{"coefs", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"vy", "=", 
        RowBox[{"fact", "/.", 
         RowBox[{"x", "\[Rule]", "vx"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ansNo", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"vx", ",", "vy"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis1x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"vx", "\[Equal]", "0"}], ",", 
          RowBox[{"1", "/", "3"}], ",", 
          RowBox[{"-", "vx"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis1y", "=", 
        RowBox[{"fact", "/.", 
         RowBox[{"x", "\[Rule]", "dis1x"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis1", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis1x", ",", "dis1y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis2x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"coefs", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", 
           RowBox[{"coefs", "[", 
            RowBox[{"[", "3", "]"}], "]"}]}], ",", 
          RowBox[{"1", "/", "4"}], ",", 
          RowBox[{
           RowBox[{"-", 
            RowBox[{"coefs", "[", 
             RowBox[{"[", "3", "]"}], "]"}]}], "/", 
           RowBox[{"(", 
            RowBox[{"2", "*", 
             RowBox[{"coefs", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis2y", "=", 
        RowBox[{"fact", "/.", 
         RowBox[{"x", "\[Rule]", "dis2x"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis2", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis2x", ",", "dis2y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis3x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"dis1x", "\[Equal]", "dis1y"}], ",", 
          RowBox[{"dis1y", "+", "1"}], ",", "dis1y"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis3y", "=", "dis1x"}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis3", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis3x", ",", "dis3y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis4x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"dis2x", "\[Equal]", "dis2y"}], ",", 
          RowBox[{"dis2y", "-", "3"}], ",", "dis2y"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis4y", "=", "dis2x"}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis4", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis4x", ",", "dis4y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis5x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"vx", "\[Equal]", "vy"}], ",", 
          RowBox[{"vy", "+", "1"}], ",", "vy"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis5y", "=", "vx"}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis5", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis5x", ",", "dis5y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis6x", "=", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{"coefs", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "/", 
         RowBox[{"coefs", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis6y", "=", 
        RowBox[{"fact", "/.", 
         RowBox[{"x", "\[Rule]", "dis6x"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis6", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis6x", ",", "dis6y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis7x", "=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"dis6x", "\[Equal]", "dis6y"}], ",", 
          RowBox[{"dis6y", "+", "2"}], ",", "dis6y"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dis7y", "=", "dis6x"}], ";", "\[IndentingNewLine]", 
       RowBox[{"dis7", "=", 
        RowBox[{"ptPair", "[", 
         RowBox[{"{", 
          RowBox[{"dis7x", ",", "dis7y"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"dists", "=", 
        RowBox[{"{", 
         RowBox[{
         "dis1", ",", "dis2", ",", "dis3", ",", "dis4", ",", "dis5", ",", 
          "dis6", ",", "dis7"}], "}"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", 
         RowBox[{"Prepend", "[", 
          RowBox[{
           RowBox[{"RandomSample", "[", 
            RowBox[{"dists", ",", "3"}], "]"}], ",", "ansNo"}], "]"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", "ansNo"}], "]"}], "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ";", " ", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{"q", ",", "ans", ",", "mixed"}], "}"}], "]"}], "&"}]}]}], 
     "]"}], "]"}], ",", "\[IndentingNewLine]", "\"\<CS_pack_Alge3\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.682847053368512*^9, {3.682847174115266*^9, 3.682847217336174*^9}, {
   3.682847300883954*^9, 3.68284730182218*^9}, {3.682847481732263*^9, 
   3.6828474923873796`*^9}, {3.682847869675419*^9, 3.682847891777885*^9}, {
   3.682847939013897*^9, 3.6828479397558126`*^9}, {3.687344599403582*^9, 
   3.687344636708845*^9}, {3.68734470478224*^9, 3.687344831426125*^9}, {
   3.687344872485881*^9, 3.687344874180255*^9}, {3.687345124588619*^9, 
   3.687345146154869*^9}, {3.687345219800386*^9, 3.6873452253510942`*^9}, {
   3.687345321031066*^9, 
   3.687345330149692*^9}},ExpressionUUID->"991601d7-4711-49a5-aa9a-\
37e6e35ab15a"]
},
WindowSize->{1252, 1083},
WindowMargins->{{-7, Automatic}, {31, Automatic}},
FrontEndVersion->"11.2 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 8446, 213, 808, "Input",ExpressionUUID->"991601d7-4711-49a5-aa9a-37e6e35ab15a"]
}
]
*)

(* End of internal cache information *)

