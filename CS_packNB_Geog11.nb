(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      6315,        146]
NotebookOptionsPosition[      6001,        132]
NotebookOutlinePosition[      6361,        148]
CellTagsIndexPosition[      6318,        145]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"ents", "=", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          RowBox[{"CountryData", "[", "]"}], ",", "4"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"pic", "=", 
        RowBox[{
         RowBox[{"Hold", "[", 
          RowBox[{"Pane", "[", 
           RowBox[{
            RowBox[{"ImageCrop", "[", 
             RowBox[{"Rasterize", "[", 
              RowBox[{
               RowBox[{"Rotate", "[", 
                RowBox[{
                 RowBox[{"GeoGraphics", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"EdgeForm", "[", 
                    RowBox[{"{", 
                    RowBox[{"Thick", ",", "Blue"}], "}"}], "]"}], ",", 
                    RowBox[{"GeoStyling", "[", 
                    RowBox[{"RGBColor", "[", "\"\<#2E8B57\>\"", "]"}], "]"}], 
                    ",", 
                    RowBox[{"Polygon", "[", "h1", "]"}]}], "}"}], ",", 
                   RowBox[{"GeoBackground", "\[Rule]", "None"}], ",", 
                   RowBox[{"ImageSize", "\[Rule]", "800"}]}], "]"}], ",", 
                 RowBox[{"RandomReal", "[", 
                  RowBox[{"{", 
                   RowBox[{"0", ",", 
                    RowBox[{"2", " ", "\[Pi]"}]}], "}"}], "]"}]}], "]"}], ",", 
               RowBox[{"ImageSize", "\[Rule]", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", "480", "}"}], ",", 
                  RowBox[{"{", "540", "}"}]}], "}"}]}]}], "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"480", ",", "540"}], "}"}], ",", 
            RowBox[{"ImageSize", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", "480", "}"}], ",", 
               RowBox[{"{", "540", "}"}]}], "}"}]}], ",", 
            RowBox[{"FrameMargins", "\[Rule]", "0"}]}], "]"}], "]"}], "/.", 
         RowBox[{"h1", "\[Rule]", 
          RowBox[{"ents", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
       "q", "=", "\"\<This is the rotated shape of which country?\>\""}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"choices", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"EntityValue", "[", 
           RowBox[{"#", ",", "\"\<Name\>\""}], "]"}], "&"}], "/@", "ents"}]}],
        ";", "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", "choices", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", 
           RowBox[{"choices", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], "]"}], "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{"q", ",", "ans", ",", "mixed", ",", "pic"}], "}"}], "]"}], 
        "&"}]}]}], "]"}], "]"}], ",", "\[IndentingNewLine]", 
   "\"\<CS_pack_Geog11\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{{3.700598291011456*^9, 3.7005983049443693`*^9}, {
   3.700600002069332*^9, 3.700600158521524*^9}, {3.7006001902586412`*^9, 
   3.7006002444748898`*^9}, {3.700600275616384*^9, 3.7006002935031023`*^9}, {
   3.700600343211947*^9, 3.700600424086784*^9}, {3.7006480217049723`*^9, 
   3.700648042341255*^9}, {3.7006480833767643`*^9, 3.700648118785655*^9}, {
   3.700648152410903*^9, 3.700648155832987*^9}, {3.7006481869793577`*^9, 
   3.700648192473926*^9}, {3.700648439431967*^9, 3.70064848796058*^9}, {
   3.700648715846628*^9, 3.700648734684252*^9}, {3.700648912966357*^9, 
   3.700648942469193*^9}, {3.7006492171412888`*^9, 3.700649232549575*^9}, {
   3.700649341906919*^9, 3.700649391763233*^9}, {3.700649423567034*^9, 
   3.700649440647318*^9}, {3.700649548012229*^9, 3.700649583708857*^9}, {
   3.70064993780853*^9, 3.700649946110034*^9}, {3.7006500492840137`*^9, 
   3.700650088203582*^9}, {3.700650178027087*^9, 3.700650187265732*^9}, {
   3.700650317305169*^9, 3.700650386234598*^9}, {3.70065041856691*^9, 
   3.700650448869973*^9}, {3.700663091891547*^9, 3.700663094577199*^9}, {
   3.726015840111726*^9, 3.726015869925888*^9}, {3.726016193542004*^9, 
   3.726016196859408*^9}, {3.726016352636772*^9, 3.7260164202831297`*^9}, 
   3.726049891490375*^9, {3.7260499480259657`*^9, 3.726049955848488*^9}, {
   3.7260500345057383`*^9, 3.72605012027983*^9}, {3.726050240064501*^9, 
   3.726050289831208*^9}, {3.7260504305115433`*^9, 3.726050525869776*^9}, {
   3.7260505775266323`*^9, 3.726050586478797*^9}, {3.726051135683017*^9, 
   3.726051152602091*^9}, {3.7260511831702757`*^9, 3.7260511893461237`*^9}, {
   3.7260512208581457`*^9, 3.7260513278011513`*^9}, {3.72605138753012*^9, 
   3.7260514063370543`*^9}, {3.726051495393353*^9, 3.726051513095776*^9}, {
   3.7260516070967817`*^9, 3.726051667799021*^9}, {3.7260518270963917`*^9, 
   3.726051843814687*^9}, 3.726051922023403*^9, {3.726052069480661*^9, 
   3.7260521035038757`*^9}},ExpressionUUID->"6fc8d433-3d09-4a96-a3a9-\
f20c65489de1"]
},
WindowSize->{1500, 1063},
WindowMargins->{{1, Automatic}, {42, Automatic}},
FrontEndVersion->"11.2 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 5439, 110, 304, "Input",ExpressionUUID->"6fc8d433-3d09-4a96-a3a9-f20c65489de1"]
}
]
*)

