(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     17252,        336]
NotebookOptionsPosition[     16959,        323]
NotebookOutlinePosition[     17297,        338]
CellTagsIndexPosition[     17254,        335]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"data", "=", 
        RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"While", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "data", "]"}], "<", "4"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"data", "=", 
          RowBox[{"DeleteDuplicatesBy", "[", 
           RowBox[{
            RowBox[{"RandomSample", "[", 
             RowBox[{
              InterpretationBox[
               DynamicModuleBox[{Typeset`open = False}, 
                TemplateBox[{"List","ListIcon",GridBox[{{
                    RowBox[{
                    TagBox["\"Head: \"", "IconizedLabel"], 
                    "\[InvisibleSpace]", 
                    TagBox["List", "IconizedItem"]}]}, {
                    RowBox[{
                    TagBox["\"Dimensions: \"", "IconizedLabel"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"62", ",", "3"}], "}"}], "IconizedItem"]}]}, {
                    RowBox[{
                    TagBox["\"Byte count: \"", "IconizedLabel"], 
                    "\[InvisibleSpace]", 
                    TagBox["26864", "IconizedItem"]}]}}, 
                   GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                   DefaultBaseStyle -> "Column", 
                   GridBoxItemSize -> {
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
                  Dynamic[Typeset`open]},
                 "IconizedObject"]],
               {{"Alfred the Great", 
                 DateObject[{871}], 
                 DateObject[{899, 10, 25}]}, {"Edward the Elder", 
                 DateObject[{899, 10, 27}], 
                 DateObject[{924, 7, 16}]}, {"\[CapitalAE]thelstan", 
                 DateObject[{924, 7, 18}], 
                 DateObject[{939, 10, 27}]}, {"Edmund I", 
                 DateObject[{939, 10, 28}], 
                 DateObject[{946, 5, 26}]}, {"Eadred", 
                 DateObject[{946, 5, 27}], 
                 DateObject[{955, 11, 23}]}, {"Eadwig", 
                 DateObject[{955, 11, 24}], 
                 DateObject[{959, 10, 1}]}, {"Edgar the Peaceful", 
                 DateObject[{959, 10, 2}], 
                 DateObject[{975, 7, 8}]}, {"Edward the Martyr", 
                 DateObject[{975, 7, 9}], 
                 DateObject[{978, 3, 18}]}, {
                "\[CapitalAE]thelred the Unready", 
                 DateObject[{978, 3, 19}], 
                 DateObject[{1013, 12, 24}]}, {"Sweyn Forkbeard", 
                 DateObject[{1013, 12, 25}], 
                 DateObject[{1014, 2, 2}]}, {
                "\[CapitalAE]thelred the Unready", 
                 DateObject[{1014, 2, 3}], 
                 DateObject[{1016, 4, 23}]}, {"Edmund Ironside", 
                 DateObject[{1016, 4, 24}], 
                 DateObject[{1016, 11, 30}]}, {"Cnut the Great", 
                 DateObject[{1016, 10, 18}], 
                 DateObject[{1035, 11, 12}]}, {"Harold Harefoot", 
                 DateObject[{1035, 11, 13}], 
                 DateObject[{1040, 3, 16}]}, {"Harthacnut", 
                 DateObject[{1040, 3, 18}], 
                 DateObject[{1042, 6, 8}]}, {"Edward the Confessor", 
                 DateObject[{1042, 6, 9}], 
                 DateObject[{1066, 1, 5}]}, {"Harold Godwinson", 
                 DateObject[{1066, 1, 6}], 
                 DateObject[{1066, 10, 14}]}, {
                "Edgar the \[CapitalAE]theling", 
                 DateObject[{1066, 10, 15}], 
                 DateObject[{1066, 12, 17}]}, {"William I (The Conqueror)", 
                 DateObject[{1066, 12, 25}], 
                 DateObject[{1087, 9, 8}]}, {"William II", 
                 DateObject[{1087, 9, 10}], 
                 DateObject[{1100, 8, 1}]}, {"Henry I", 
                 DateObject[{1100, 8, 3}], 
                 DateObject[{1135, 12, 1}]}, {"Stephen of Blois", 
                 DateObject[{1135, 12, 1}], 
                 DateObject[{1154, 10, 24}]}, {"Henry II", 
                 DateObject[{1154, 10, 26}], 
                 DateObject[{1189, 7, 5}]}, {"Richard I (The Lionheart)", 
                 DateObject[{1189, 7, 6}], 
                 DateObject[{1199, 4, 5}]}, {"John", 
                 DateObject[{1199, 4, 6}], 
                 DateObject[{1216, 10, 19}]}, {"Henry III", 
                 DateObject[{1216, 10, 20}], 
                 DateObject[{1272, 11, 15}]}, {"Edward I (Longshanks)", 
                 DateObject[{1272, 11, 17}], 
                 DateObject[{1307, 7, 6}]}, {"Edward II", 
                 DateObject[{1307, 7, 7}], 
                 DateObject[{1327, 1, 24}]}, {"Edward III", 
                 DateObject[{1327, 1, 26}], 
                 DateObject[{1377, 6, 20}]}, {"Richard II", 
                 DateObject[{1377, 6, 22}], 
                 DateObject[{1399, 9, 29}]}, {"Henry IV", 
                 DateObject[{1399, 9, 30}], 
                 DateObject[{1413, 3, 19}]}, {"Henry V", 
                 DateObject[{1413, 3, 20}], 
                 DateObject[{1422, 8, 30}]}, {"Henry VI", 
                 DateObject[{1422, 9, 1}], 
                 DateObject[{1461, 3, 3}]}, {"Edward IV", 
                 DateObject[{1461, 3, 5}], 
                 DateObject[{1470, 10, 2}]}, {"Henry VI", 
                 DateObject[{1470, 10, 4}], 
                 DateObject[{1471, 4, 10}]}, {"Edward IV", 
                 DateObject[{1471, 4, 12}], 
                 DateObject[{1483, 4, 8}]}, {"Edward V", 
                 DateObject[{1483, 4, 10}], 
                 DateObject[{1483, 6, 25}]}, {"Richard III", 
                 DateObject[{1483, 6, 26}], 
                 DateObject[{1485, 8, 21}]}, {"Henry VII", 
                 DateObject[{1485, 8, 22}], 
                 DateObject[{1509, 4, 20}]}, {"Henry III", 
                 DateObject[{1509, 4, 22}], 
                 DateObject[{1547, 1, 27}]}, {"Edward VI", 
                 DateObject[{1547, 1, 29}], 
                 DateObject[{1553, 7, 5}]}, {"Jane", 
                 DateObject[{1553, 7, 10}], 
                 DateObject[{1553, 7, 18}]}, {"Mary I", 
                 DateObject[{1553, 7, 20}], 
                 DateObject[{1558, 11, 16}]}, {"Elizabeth I", 
                 DateObject[{1558, 11, 18}], 
                 DateObject[{1603, 3, 23}]}, {"James I", 
                 DateObject[{1603, 3, 25}], 
                 DateObject[{1625, 3, 26}]}, {"Charles I", 
                 DateObject[{1625, 3, 28}], 
                 DateObject[{1649, 1, 30}]}, {"Charles II", 
                 DateObject[{1660, 5, 29}], 
                 DateObject[{1685, 2, 5}]}, {"James II", 
                 DateObject[{1685, 2, 7}], 
                 DateObject[{1688, 12, 23}]}, {"Mary II", 
                 DateObject[{1689, 2, 13}], 
                 DateObject[{1694, 12, 28}]}, {"William III (of Orange)", 
                 DateObject[{1694, 12, 28}], 
                 DateObject[{1702, 3, 7}]}, {"Anne", 
                 DateObject[{1702, 3, 9}], 
                 DateObject[{1714, 7, 31}]}, {"George I", 
                 DateObject[{1714, 8, 2}], 
                 DateObject[{1727, 6, 10}]}, {"George II", 
                 DateObject[{1727, 6, 12}], 
                 DateObject[{1760, 10, 24}]}, {"George III", 
                 DateObject[{1760, 10, 26}], 
                 DateObject[{1820, 1, 28}]}, {"George IV", 
                 DateObject[{1820, 1, 30}], 
                 DateObject[{1830, 6, 24}]}, {"William IV", 
                 DateObject[{1830, 6, 26}], 
                 DateObject[{1837, 6, 19}]}, {"Victoria", 
                 DateObject[{1837, 6, 21}], 
                 DateObject[{1901, 1, 21}]}, {"Edward VII", 
                 DateObject[{1901, 1, 23}], 
                 DateObject[{1910, 5, 5}]}, {"George V", 
                 DateObject[{1910, 5, 7}], 
                 DateObject[{1936, 1, 19}]}, {"Edward VIII", 
                 DateObject[{1936, 1, 21}], 
                 DateObject[{1936, 12, 10}]}, {"George VI", 
                 DateObject[{1936, 12, 12}], 
                 DateObject[{1952, 2, 5}]}, {"Elizabeth II", 
                 DateObject[{1952, 2, 7}], 
                 DateObject[{2017, 5, 30}]}},
               SelectWithContents->True,
               Selectable->False], ",", "4"}], "]"}], ",", "First"}], 
           "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"date", "=", 
        RowBox[{"RandomChoice", "[", 
         RowBox[{"DayRange", "[", 
          RowBox[{
           RowBox[{"data", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], ",", 
           RowBox[{"data", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}]}], "]"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"q", "=", 
        RowBox[{"StringForm", "[", 
         RowBox[{"\"\<Who was the monarch of England on `1`?\>\"", ",", 
          RowBox[{"DateString", "[", 
           RowBox[{"date", ",", 
            RowBox[{"{", 
             RowBox[{
             "\"\<MonthName\>\"", ",", "\"\< \>\"", ",", "\"\<DayShort\>\"", 
              ",", "\"\<, \>\"", ",", "\"\<Year\>\""}], "}"}]}], "]"}]}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"choices", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
           "&"}], "/@", "data"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", "choices", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"mixTransit", "=", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Hold", "[", 
            RowBox[{"FromCharacterCode", "[", "h3", "]"}], "]"}], "/.", 
           RowBox[{"h3", "\[Rule]", 
            RowBox[{"ToCharacterCode", "[", "#", "]"}]}]}], "&"}], "/@", 
         "mixed"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", 
           RowBox[{
           "choices", "\[LeftDoubleBracket]", "1", 
            "\[RightDoubleBracket]"}]}], "]"}], "\[LeftDoubleBracket]", 
         RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{"q", ",", "ans", ",", "mixTransit"}], "}"}], "]"}], 
        "&"}]}]}], "]"}], "]"}], ",", "\[IndentingNewLine]", 
   "\"\<CS_pack_Hist12\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.705080329070342*^9, {3.705080915834841*^9, 3.705080917473855*^9}, {
   3.705080960010523*^9, 3.7050810166893787`*^9}, {3.70508152033702*^9, 
   3.705081521343849*^9}, {3.705081560887698*^9, 3.705081580063532*^9}, {
   3.7050817305115557`*^9, 3.705081732647932*^9}, {3.705081764314458*^9, 
   3.705081792655477*^9}, {3.705081849602725*^9, 3.705081879935945*^9}, {
   3.7050819193292027`*^9, 3.7050819270712137`*^9}, {3.7050819962069273`*^9, 
   3.705082032590911*^9}, {3.705082063730176*^9, 3.7050820654716673`*^9}, {
   3.705082121682065*^9, 3.705082190303361*^9}, {3.7050822379378757`*^9, 
   3.705082314455701*^9}, {3.7050823554976883`*^9, 3.7050823975698223`*^9}, {
   3.705082431080283*^9, 3.705082490799601*^9}, {3.705082529082222*^9, 
   3.705082643927388*^9}, {3.705082687393721*^9, 3.705082690463397*^9}, {
   3.7051402985304947`*^9, 3.7051403254653788`*^9}, {3.705143318858169*^9, 
   3.705143373353036*^9}, 3.705143448579526*^9, {3.705147576978838*^9, 
   3.705147592169031*^9}, {3.7051477091525507`*^9, 3.7051477435215178`*^9}, {
   3.7051478991710777`*^9, 3.705148030577344*^9}, 3.705148064084268*^9, {
   3.7051480964535217`*^9, 3.705148102331973*^9}, {3.705148344979796*^9, 
   3.705148427674924*^9}, {3.7051485145550833`*^9, 3.705148535107379*^9}, {
   3.705148569394145*^9, 3.705148579250391*^9}, {3.705148621290691*^9, 
   3.7051487020897207`*^9}, {3.7051487523666*^9, 3.7051487711420603`*^9}, 
   3.705148959792151*^9, {3.705148998455171*^9, 3.705149068264361*^9}, {
   3.705149111055225*^9, 3.705149112542177*^9}, {3.705149146382462*^9, 
   3.705149243087778*^9}, {3.705149564540924*^9, 3.7051496049438133`*^9}, {
   3.705149648421002*^9, 3.705149690116231*^9}, {3.7051497262876873`*^9, 
   3.7051497574437428`*^9}, {3.705149798807632*^9, 3.705149825783411*^9}, {
   3.705149870310816*^9, 3.705149881989751*^9}, {3.705149919844776*^9, 
   3.705149926445199*^9}, {3.7051501049634323`*^9, 3.7051502155959387`*^9}, {
   3.705151367407691*^9, 3.7051513807186203`*^9}, {3.7051514133868523`*^9, 
   3.705151431711062*^9}, {3.70515147949058*^9, 3.7051515001662693`*^9}, {
   3.705151533945435*^9, 3.705151602214374*^9}, {3.705151686013801*^9, 
   3.705151756975809*^9}, {3.705156884207839*^9, 3.705156932046093*^9}, {
   3.7051569682658367`*^9, 3.705156987346167*^9}, {3.705157027887396*^9, 
   3.705157051584186*^9}, {3.7051570822703257`*^9, 3.7051572139265423`*^9}, {
   3.705157296913506*^9, 3.705157330150762*^9}, 3.705157380578437*^9, {
   3.705157465934794*^9, 3.705157511550267*^9}, {3.705157551977054*^9, 
   3.705157553894511*^9}, {3.70515762155831*^9, 3.7051576501174726`*^9}, {
   3.705157691010318*^9, 3.705157709710059*^9}, {3.705157745984137*^9, 
   3.70515782930219*^9}, {3.705157863881531*^9, 3.705157886477714*^9}, {
   3.705157921877249*^9, 3.705157949301839*^9}, {3.705158004065539*^9, 
   3.7051580439261827`*^9}, 3.705158078761437*^9, {3.705160511230427*^9, 
   3.705160557142212*^9}, {3.7051605935213737`*^9, 3.7051606107735863`*^9}, {
   3.705160644999898*^9, 3.705160655678226*^9}, {3.705160686545539*^9, 
   3.7051607088537207`*^9}, {3.705160739289364*^9, 3.70516076323804*^9}, 
   3.705160794241323*^9, {3.705161806152966*^9, 3.705162244572975*^9}, {
   3.705162278764258*^9, 3.705162282069688*^9}, {3.705162316939032*^9, 
   3.705162379300462*^9}, {3.705162409644373*^9, 3.705162461236171*^9}, {
   3.705162493163988*^9, 3.7051625921330633`*^9}, {3.705162635243815*^9, 
   3.705162637581533*^9}, {3.705162674628854*^9, 3.705162676389752*^9}, {
   3.705163279044742*^9, 3.705163291371435*^9}, {3.705163323763071*^9, 
   3.7051633256846046`*^9}, {3.705163360666807*^9, 3.705163412163863*^9}, {
   3.7051634451222267`*^9, 3.705163497123*^9}, {3.7051635380283422`*^9, 
   3.705163538944529*^9}, {3.705163581731798*^9, 3.705163600562862*^9}, {
   3.7051636382345047`*^9, 3.705163715212517*^9}, {3.705163931419232*^9, 
   3.705163952645707*^9}, {3.705164055689793*^9, 3.7051640995596952`*^9}, {
   3.705164152339819*^9, 3.705164187739828*^9}, {3.705164218914365*^9, 
   3.705164267299651*^9}, {3.705164327003227*^9, 3.705164366866529*^9}, {
   3.705164414002915*^9, 3.705164451107026*^9}, {3.705164481458988*^9, 
   3.7051644834839087`*^9}, {3.705164593515129*^9, 3.705164636042461*^9}, {
   3.705164669660368*^9, 3.705164698891178*^9}, {3.7051647312835617`*^9, 
   3.7051647593320704`*^9}, {3.7051648139479094`*^9, 
   3.7051648234268627`*^9}, {3.705164882500671*^9, 3.7051648859708557`*^9}, {
   3.705164946106739*^9, 3.705164983586501*^9}, {3.705165023827858*^9, 
   3.7051650815014467`*^9}, {3.705165157804248*^9, 3.7051651591843863`*^9}, {
   3.705165260092334*^9, 3.705165296843299*^9}, {3.705165345652104*^9, 
   3.705165463818924*^9}, {3.705165522695489*^9, 3.705165524875718*^9}, {
   3.705165571019227*^9, 3.7051656230036087`*^9}, {3.70516565983629*^9, 
   3.705165684619091*^9}, {3.70516572734251*^9, 3.705165804300127*^9}, {
   3.705165839427102*^9, 3.7051658430199738`*^9}, {3.7051658757471447`*^9, 
   3.705165988547257*^9}, {3.7051660289725657`*^9, 3.705166058835443*^9}, {
   3.705166103851212*^9, 3.705166122763891*^9}, {3.705166162427477*^9, 
   3.7051663280986557`*^9}, {3.705166367501747*^9, 3.7051664428450413`*^9}, {
   3.705166500933853*^9, 3.7051665039640427`*^9}, 3.70516653442829*^9, {
   3.705166583836198*^9, 3.705166628523706*^9}, 3.7647036347370453`*^9, {
   3.764703692136134*^9, 3.764703777070636*^9}},
 CellLabel->
  "In[1525]:=",ExpressionUUID->"5b9c019b-63d4-456c-8a0c-ea214fd8adaf"]
},
WindowSize->{1900, 1254},
WindowMargins->{{5, Automatic}, {68, Automatic}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 16397, 301, 320, "Input",ExpressionUUID->"5b9c019b-63d4-456c-8a0c-ea214fd8adaf"]
}
]
*)

