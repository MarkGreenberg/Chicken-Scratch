(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9412,        224]
NotebookOptionsPosition[      9121,        211]
NotebookOutlinePosition[      9458,        226]
CellTagsIndexPosition[      9415,        223]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"CloudDeploy", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Delayed", "[", "\[IndentingNewLine]", 
    RowBox[{"APIFunction", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"valP", "=", 
        RowBox[{"RandomInteger", "[", 
         RowBox[{"{", 
          RowBox[{"15", ",", "50"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"valV1", "=", 
        RowBox[{"RandomInteger", "[", 
         RowBox[{"{", 
          RowBox[{"3", ",", "12"}], "}"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"valV2", "=", 
        RowBox[{"valV1", "+", 
         RowBox[{"RandomInteger", "[", 
          RowBox[{"{", 
           RowBox[{"3", ",", "16"}], "}"}], "]"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"q", "=", 
        RowBox[{"StringForm", "[", 
         RowBox[{
         "\"\<What is the new power output of a wind turbine at `1` if the \
wind picks up from `2` to `3`?\>\"", ",", 
          RowBox[{"P", "==", 
           RowBox[{"Quantity", "[", 
            RowBox[{"valP", ",", "\"\<kW\>\""}], "]"}]}], ",", 
          RowBox[{"Quantity", "[", 
           RowBox[{"valV1", ",", "\"\<m/s\>\""}], "]"}], ",", 
          RowBox[{"Quantity", "[", 
           RowBox[{"valV2", ",", "\"\<m/s\>\""}], "]"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"qTransit", "=", 
        RowBox[{
         RowBox[{"Hold", "[", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"FromCharacterCode", "[", "h1", "]"}], "]"}], "]"}], "/.", 
         
         RowBox[{"h1", "\[Rule]", 
          RowBox[{"ToCharacterCode", "[", 
           RowBox[{"ToString", "[", 
            RowBox[{"InputForm", "[", "q", "]"}], "]"}], "]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"ansNo", "=", 
        RowBox[{"Round", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"valV2", "/", "valV1"}], ")"}], "^", "3"}], "*", "valP"}],
          "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"choiceNos", "=", 
        RowBox[{"{", "ansNo", "}"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"While", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "choiceNos", "]"}], "<", "4"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"choiceNos", "=", 
          RowBox[{"DeleteDuplicates", "[", 
           RowBox[{"Append", "[", 
            RowBox[{"choiceNos", ",", 
             RowBox[{"Round", "[", 
              RowBox[{"RandomReal", "[", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"valP", "+", "10"}], ",", 
                 RowBox[{"ansNo", "*", "1.5"}]}], "}"}], "]"}], "]"}]}], 
            "]"}], "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"choices", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"ToString", "[", 
           RowBox[{"Quantity", "[", 
            RowBox[{"#", ",", "\"\<kW\>\""}], "]"}], "]"}], "&"}], "/@", 
         "choiceNos"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mixed", "=", 
        RowBox[{"RandomSample", "[", 
         RowBox[{"choices", ",", "4"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mixTransit", "=", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Hold", "[", 
            RowBox[{"FromCharacterCode", "[", "h3", "]"}], "]"}], "/.", 
           RowBox[{"h3", "\[Rule]", 
            RowBox[{"ToCharacterCode", "[", "#", "]"}]}]}], "&"}], "/@", 
         "mixed"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ans", "=", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"mixed", ",", 
           RowBox[{
           "choices", "\[LeftDoubleBracket]", "1", 
            "\[RightDoubleBracket]"}]}], "]"}], "\[LeftDoubleBracket]", 
         RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"pic", "=", 
        RowBox[{"Style", "[", 
         RowBox[{
          RowBox[{"Grid", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HoldForm", "[", 
                 RowBox[{"P", "\[Equal]", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"1", "/", "2"}], ")"}], "*", "\[Mu]", "*", 
                   "\[Rho]", "*", "A", "*", 
                   RowBox[{"V", "^", "3"}]}]}], "]"}], ",", "SpanFromLeft"}], 
               "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"P", ",", "\"\<turbine power\>\""}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"\[Rho]", ",", "\"\<air density\>\""}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"A", ",", "\"\<turbine area\>\""}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"\[Mu]", ",", "\"\<turbine efficiency\>\""}], "}"}], 
              ",", 
              RowBox[{"{", 
               RowBox[{"V", ",", "\"\<wind velocity\>\""}], "}"}]}], "}"}], 
            ",", 
            RowBox[{"Frame", "\[Rule]", "All"}], ",", 
            RowBox[{"FrameStyle", "\[Rule]", 
             RowBox[{"Directive", "[", 
              RowBox[{"LightGray", ",", 
               RowBox[{"Thickness", "\[Rule]", "3"}]}], "]"}]}], ",", 
            RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"1.8", ",", "1.15"}], "}"}]}]}], "]"}], ",", "72"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"picTransit", "=", 
        RowBox[{
         RowBox[{"Hold", "[", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"FromCharacterCode", "[", "h2", "]"}], "]"}], "]"}], "/.", 
         
         RowBox[{"h2", "\[Rule]", 
          RowBox[{"ToCharacterCode", "[", 
           RowBox[{"ToString", "[", 
            RowBox[{"InputForm", "[", "pic", "]"}], "]"}], "]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"InputForm", "[", 
         RowBox[{"{", 
          RowBox[{
          "qTransit", ",", "ans", ",", "mixTransit", ",", "picTransit"}], 
          "}"}], "]"}], "&"}]}]}], "]"}], "]"}], ",", "\[IndentingNewLine]", 
   "\"\<CS_pack_Phys2\>\"", ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.682961337431746*^9, 3.682961444416664*^9, {3.682961493709384*^9, 
   3.682961505907675*^9}, {3.68296156228269*^9, 3.682961576706417*^9}, 
   3.6829630274087276`*^9, {3.682963139824027*^9, 3.6829631469491167`*^9}, {
   3.682964058768283*^9, 3.682964065673326*^9}, {3.6829640969782267`*^9, 
   3.682964293115086*^9}, {3.682964386146522*^9, 3.6829644114574623`*^9}, {
   3.683033766963943*^9, 3.683033795093686*^9}, {3.68303382896742*^9, 
   3.683033830038327*^9}, 3.6876088127253523`*^9, {3.687608848902074*^9, 
   3.6876088998392973`*^9}, {3.687608964565813*^9, 3.687609052806966*^9}, {
   3.687609181486496*^9, 3.687609183572814*^9}, {3.687609358087811*^9, 
   3.687609431969486*^9}, 3.68760948472407*^9, {3.687609667688158*^9, 
   3.6876096681572313`*^9}, {3.687609803654388*^9, 3.687609819404901*^9}, {
   3.687613248313051*^9, 3.687613249695673*^9}, {3.687613736848387*^9, 
   3.687613798554163*^9}, {3.687613876745186*^9, 3.687613895888515*^9}, {
   3.687613997359177*^9, 3.687614011280179*^9}, {3.687614197424368*^9, 
   3.687614200733897*^9}, {3.687614235991602*^9, 3.687614257114039*^9}, {
   3.687614442076659*^9, 3.687614467324733*^9}, {3.687614642648182*^9, 
   3.687614681238295*^9}, {3.687614809510502*^9, 3.6876148453668118`*^9}, {
   3.687614927131852*^9, 3.6876149288653307`*^9}, {3.687615044417902*^9, 
   3.687615050416006*^9}, {3.687615857880805*^9, 3.687615884433798*^9}, 
   3.687616176480833*^9, 3.687616711371866*^9, {3.76460934116471*^9, 
   3.764609357240481*^9}, {3.76460944855516*^9, 3.764609456761281*^9}, {
   3.764609532089279*^9, 3.764609536680682*^9}, {3.764609574634324*^9, 
   3.764609623300006*^9}, 3.764609656328964*^9, {3.764609751672575*^9, 
   3.764609871239772*^9}, {3.764609944231534*^9, 3.764609945519129*^9}, {
   3.764610001154838*^9, 3.764610015407378*^9}, {3.764610049655738*^9, 
   3.764610083231286*^9}, {3.764610136129301*^9, 3.764610178279852*^9}, {
   3.7646104880247087`*^9, 3.764610499230788*^9}, {3.764610538854971*^9, 
   3.764610601150692*^9}, {3.764610727680278*^9, 3.764610821782612*^9}},
 CellLabel->
  "In[656]:=",ExpressionUUID->"fb03149f-55ba-476c-a981-88f57fde955e"]
},
WindowSize->{1813, 1337},
WindowMargins->{{0, Automatic}, {Automatic, 7}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 8559, 189, 451, "Input",ExpressionUUID->"fb03149f-55ba-476c-a981-88f57fde955e"]
}
]
*)

